[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "life_exp",
    "section": "",
    "text": "library(tidyverse)  \n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.3     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.3     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(sf)         \n\nLinking to GEOS 3.11.0, GDAL 3.5.3, PROJ 9.1.0; sf_use_s2() is TRUE\n\nlibrary(mapview)    \n\nThe legacy packages maptools, rgdal, and rgeos, underpinning the sp package,\nwhich was just loaded, will retire in October 2023.\nPlease refer to R-spatial evolution reports for details, especially\nhttps://r-spatial.org/r/2023/05/15/evolution4.html.\nIt may be desirable to make the sf package available;\npackage maintainers should consider adding sf to Suggests:.\nThe sp package is now running under evolution status 2\n     (status 2 uses the sf package in place of rgdal)\n\nlibrary(leaflet) \nlibrary(dplyr)\nlibrary(leafpop)\nlibrary(readr)\n\n\nmd &lt;- read_sf(\"/Users/mkheyfets/Documents/Maryland_Physical_Boundaries_-_County_Boundaries_(Generalized)\")\nlife_exp &lt;- read_csv(\"scatterplot/SHIP_Life_Expectancy_2010-2020_20231228.csv\")\n\nRows: 24 Columns: 2\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (1): Jurisdiction\ndbl (1): Life_Expectancy\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nlife_exp_j &lt;- life_exp %&gt;% \n  rename(\"county\" = \"Jurisdiction\") \nlife_exp_md &lt;- full_join(md, life_exp_j)\n\nJoining with `by = join_by(county)`\n\n\n\npal &lt;- colorRampPalette(c(\"#ff1a1a\", \"#ffa142\", \"#ccff66\"))\nmapview(life_exp_md,\n        label=life_exp_md$county,\n        zcol=\"Life_Expectancy\",\n        col.regions=pal(6),\n        at = (seq(min(life_exp_md$Life_Expectancy), max(life_exp_md$Life_Expectancy), length.out = 6)),\n        legend = TRUE,\n        layer.name = \"2018-2020 Life Expectancy in Years\",\n        popup=popupTable(life_exp_md, zcol = c(\"Life_Expectancy\")))"
  },
  {
    "objectID": "home.html",
    "href": "home.html",
    "title": "Using 2018-2020 SHIP life expectancy data and 2016-2020 ACS socioeconomic characteristics data of Maryland Counties, I will be demonstrating how to conduct a logistic regression predicting the odds of a given county having above state average life expectancy using R.",
    "section": "",
    "text": "Mapping the Data\n\nlibrary(tidyverse)  \n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.3     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.3     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(sf)         \n\nLinking to GEOS 3.11.0, GDAL 3.5.3, PROJ 9.1.0; sf_use_s2() is TRUE\n\nlibrary(mapview)    \n\nThe legacy packages maptools, rgdal, and rgeos, underpinning the sp package,\nwhich was just loaded, will retire in October 2023.\nPlease refer to R-spatial evolution reports for details, especially\nhttps://r-spatial.org/r/2023/05/15/evolution4.html.\nIt may be desirable to make the sf package available;\npackage maintainers should consider adding sf to Suggests:.\nThe sp package is now running under evolution status 2\n     (status 2 uses the sf package in place of rgdal)\n\nlibrary(leaflet) \nlibrary(dplyr)\nlibrary(leafpop)\nlibrary(readr)\n\n\nmd &lt;- read_sf(\"/Users/mkheyfets/Documents/Maryland_Physical_Boundaries_-_County_Boundaries_(Generalized)\")\nlife_exp &lt;- read_csv(\"scatterplot/SHIP_Life_Expectancy_2010-2020_20231228.csv\")\n\nRows: 24 Columns: 2\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (1): Jurisdiction\ndbl (1): Life_Expectancy\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nlife_exp_j &lt;- life_exp %&gt;% \n  rename(\"county\" = \"Jurisdiction\") \nlife_exp_md &lt;- full_join(md, life_exp_j)\n\nJoining with `by = join_by(county)`\n\n\n\npal &lt;- colorRampPalette(c(\"#ff1a1a\", \"#ffa142\", \"#ccff66\"))\nmapview(life_exp_md,\n        label=life_exp_md$county,\n        zcol=\"Life_Expectancy\",\n        col.regions=pal(6),\n        at = (seq(min(life_exp_md$Life_Expectancy), max(life_exp_md$Life_Expectancy), length.out = 6)),\n        legend = TRUE,\n        layer.name = \"2018-2020 Life Expectancy in Years\",\n        popup=popupTable(life_exp_md, zcol = c(\"Life_Expectancy\")))"
  },
  {
    "objectID": "home.html#mapping-the-data",
    "href": "home.html#mapping-the-data",
    "title": "Using 2018-2020 SHIP life expectancy data and 2016-2020 ACS socioeconomic characteristics data of Maryland Counties, I will be demonstrating how to conduct a logistic regression predicting the odds of a given county having above state average life expectancy using R.",
    "section": "",
    "text": "library(tidyverse)  \n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.3     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.3     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(sf)         \n\nLinking to GEOS 3.11.0, GDAL 3.5.3, PROJ 9.1.0; sf_use_s2() is TRUE\n\nlibrary(mapview)    \n\nThe legacy packages maptools, rgdal, and rgeos, underpinning the sp package,\nwhich was just loaded, will retire in October 2023.\nPlease refer to R-spatial evolution reports for details, especially\nhttps://r-spatial.org/r/2023/05/15/evolution4.html.\nIt may be desirable to make the sf package available;\npackage maintainers should consider adding sf to Suggests:.\nThe sp package is now running under evolution status 2\n     (status 2 uses the sf package in place of rgdal)\n\nlibrary(leaflet) \nlibrary(dplyr)\nlibrary(leafpop)\nlibrary(readr)\n\n\nmd &lt;- read_sf(\"/Users/mkheyfets/Documents/Maryland_Physical_Boundaries_-_County_Boundaries_(Generalized)\")\nlife_exp &lt;- read_csv(\"scatterplot/SHIP_Life_Expectancy_2010-2020_20231228.csv\")\n\nRows: 24 Columns: 2\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (1): Jurisdiction\ndbl (1): Life_Expectancy\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nlife_exp_j &lt;- life_exp %&gt;% \n  rename(\"county\" = \"Jurisdiction\") \nlife_exp_md &lt;- full_join(md, life_exp_j)\n\nJoining with `by = join_by(county)`\n\n\n\npal &lt;- colorRampPalette(c(\"#ff1a1a\", \"#ffa142\", \"#ccff66\"))\nmapview(life_exp_md,\n        label=life_exp_md$county,\n        zcol=\"Life_Expectancy\",\n        col.regions=pal(6),\n        at = (seq(min(life_exp_md$Life_Expectancy), max(life_exp_md$Life_Expectancy), length.out = 6)),\n        legend = TRUE,\n        layer.name = \"2018-2020 Life Expectancy in Years\",\n        popup=popupTable(life_exp_md, zcol = c(\"Life_Expectancy\")))"
  },
  {
    "objectID": "background.html",
    "href": "background.html",
    "title": "Background",
    "section": "",
    "text": "Background\nUsing 2018-2020 SHIP life expectancy data and 2016-2020 ACS socioeconomic characteristics data of Maryland Counties, I will be conducting a logistic regression in R predicting the odds of a given county having above state average life expectancy, 78.6 years, based on median household income, education level, racial composition, and sex composition.\n\n\nMapping the Data\n\nlibrary(tidyverse)  \n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.3     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.3     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(sf)         \n\nLinking to GEOS 3.11.0, GDAL 3.5.3, PROJ 9.1.0; sf_use_s2() is TRUE\n\nlibrary(mapview)    \n\nThe legacy packages maptools, rgdal, and rgeos, underpinning the sp package,\nwhich was just loaded, will retire in October 2023.\nPlease refer to R-spatial evolution reports for details, especially\nhttps://r-spatial.org/r/2023/05/15/evolution4.html.\nIt may be desirable to make the sf package available;\npackage maintainers should consider adding sf to Suggests:.\nThe sp package is now running under evolution status 2\n     (status 2 uses the sf package in place of rgdal)\n\nlibrary(leaflet) \nlibrary(dplyr)\nlibrary(leafpop)\nlibrary(readr)\n\n\nmd &lt;- read_sf(\"/Users/mkheyfets/Documents/life_exp/Maryland_Physical_Boundaries_-_County_Boundaries_(Generalized)\")\nlife_exp &lt;- read_csv(\"scatterplot/SHIP_Life_Expectancy_2010-2020_20231228.csv\")\n\nRows: 24 Columns: 2\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (1): Jurisdiction\ndbl (1): Life_Expectancy\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nlife_exp_j &lt;- life_exp %&gt;% \n  rename(\"county\" = \"Jurisdiction\") \nlife_exp_md &lt;- full_join(md, life_exp_j)\n\nJoining with `by = join_by(county)`\n\n\n\npal &lt;- colorRampPalette(c(\"#ff1a1a\", \"#ffa142\", \"#ccff66\"))\nmapview(life_exp_md,\n        label=life_exp_md$county,\n        zcol=\"Life_Expectancy\",\n        col.regions=pal(6),\n        at = (seq(min(life_exp_md$Life_Expectancy), max(life_exp_md$Life_Expectancy), length.out = 6)),\n        legend = TRUE,\n        layer.name = \"2018-2020 Life Expectancy in Years\",\n        popup=popupTable(life_exp_md, zcol = c(\"Life_Expectancy\")))"
  },
  {
    "objectID": "log_reg.html",
    "href": "log_reg.html",
    "title": "Importing, Merging, and Cleaning the Datasets",
    "section": "",
    "text": "Importing, Merging, and Cleaning the Datasets\n\nlibrary(shiny)\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.3     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.3     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(dplyr)\nlibrary(janitor)\n\n\nAttaching package: 'janitor'\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n\nlibrary(car)\n\nLoading required package: carData\n\nAttaching package: 'car'\n\nThe following object is masked from 'package:dplyr':\n\n    recode\n\nThe following object is masked from 'package:purrr':\n\n    some\n\n\n\nmd_demo &lt;- read_csv(\"scatterplot/Maryland_Counties_Socioeconomic_Characteristics__2016-2020_from_ACS__20231228.csv\")\n\nRows: 24 Columns: 41\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (1): Jurisdiction\ndbl (40): Total Households, Population 25 years and older, Less than 9th Gra...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nlife_exp &lt;- read_csv(\"scatterplot/SHIP_Life_Expectancy_2010-2020_20231228.csv\")\n\nRows: 24 Columns: 2\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (1): Jurisdiction\ndbl (1): Life_Expectancy\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nmd_demo_life &lt;- full_join(life_exp, md_demo)\n\nJoining with `by = join_by(Jurisdiction)`\n\nmd_demo_life &lt;- clean_names(md_demo_life)\n\n\n\nCreating Response and Predictor Variables\n\nmd_demo_life &lt;- md_demo_life %&gt;% \n  mutate(above_below_state_exp = ifelse(life_expectancy &lt; 78.6, 0, 1)) %&gt;% \n  mutate(percent_less_than_9th_grade = less_than_9th_grade / total_population) %&gt;% \n  mutate(percent_white = white_alone / total_population) %&gt;% \n  mutate(percent_male = male / total_population) \n\n\n\nGraphing the Predictors and the Response Variable\nThe linked RShiny application is an interactive scatterplot of the different predictor variables and the probability of whether a county has above state average life expectancy.\n\n\nFirst Logistic Regression Model\n\nlife_exp.glm1 &lt;- glm(data = md_demo_life,\n                  formula=above_below_state_exp~ median_household_income + percent_less_than_9th_grade+ percent_white + percent_male,\n                  family = binomial('logit'))\nvif(life_exp.glm1)\n\n    median_household_income percent_less_than_9th_grade \n                   1.974429                    3.142951 \n              percent_white                percent_male \n                   3.584590                    6.441819 \n\n\nPercent Male has a VIF of 6.44, indicating high correlation with the other predictors. Removing it will reduce the impact of multicollinearity.\n\n\nSecond Logistic Regression Model\n\nlife_exp.glm2 &lt;- glm(data = md_demo_life,\n                  formula=above_below_state_exp~ median_household_income + percent_less_than_9th_grade+ percent_white,\n                  family = binomial('logit'))\nvif(life_exp.glm2)\n\n    median_household_income percent_less_than_9th_grade \n                   1.633288                    1.849726 \n              percent_white \n                   2.006057 \n\n\nWhile all of our predictors have a VIF above 1, indicating some level of correlation among each other, none are greater than 5, meaning the impact of multicollinearity was reduced.\n\n\nInterpreting the Model\n\nsummary(life_exp.glm2)\n\n\nCall:\nglm(formula = above_below_state_exp ~ median_household_income + \n    percent_less_than_9th_grade + percent_white, family = binomial(\"logit\"), \n    data = md_demo_life)\n\nCoefficients:\n                              Estimate Std. Error z value Pr(&gt;|z|)  \n(Intercept)                 -8.919e+00  7.036e+00  -1.268   0.2050  \nmedian_household_income      7.347e-05  3.657e-05   2.009   0.0445 *\npercent_less_than_9th_grade -6.548e+00  9.524e+01  -0.069   0.9452  \npercent_white                3.042e+00  4.327e+00   0.703   0.4820  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 30.553  on 23  degrees of freedom\nResidual deviance: 20.898  on 20  degrees of freedom\nAIC: 28.898\n\nNumber of Fisher Scoring iterations: 5\n\n#Exponentiating the Coefficients\nlife_exp_logOR &lt;- coef(life_exp.glm2)\nlife_exp_logOR\n\n                (Intercept)     median_household_income \n              -8.918699e+00                7.346867e-05 \npercent_less_than_9th_grade               percent_white \n              -6.548079e+00                3.042015e+00 \n\nlife_exp_OR&lt;- exp(life_exp_logOR)\nlife_exp_OR\n\n                (Intercept)     median_household_income \n               1.338623e-04                1.000073e+00 \npercent_less_than_9th_grade               percent_white \n               1.432865e-03                2.094742e+01 \n\n#Exponentiating the Confidence Intervals\nlife_exp_log_CI &lt;- confint(life_exp.glm2)\n\nWaiting for profiling to be done...\n\nlife_exp_log_CI\n\n                                    2.5 %       97.5 %\n(Intercept)                 -2.513827e+01 3.736976e+00\nmedian_household_income      1.146558e-05 1.599958e-04\npercent_less_than_9th_grade -2.025705e+02 1.916996e+02\npercent_white               -5.262218e+00 1.290019e+01\n\nlife_exp_CI &lt;- exp(life_exp_log_CI)\nlife_exp_CI\n\n                                   2.5 %       97.5 %\n(Intercept)                 1.209448e-11 4.197088e+01\nmedian_household_income     1.000011e+00 1.000160e+00\npercent_less_than_9th_grade 1.058659e-88 1.795097e+83\npercent_white               5.183795e-03 4.003877e+05\n\n\nAt a=0.05, only median household income is a significant predictor of whether a given county has above state average life expectancy. Every unit increase in a Maryland county’s median household income predicts a 0.0073% increase in the odds of having an above state average life expectancy. While the 95% confidence interval for median household income, [1.000011, 1.00016], support that these odds are different from 1, the effect size is small.\nAdditionally, the residual deviance is lower than the null deviance, indicating that the model is a better fit than a null model.\nFor future analyses, switching from assessing counties to assessing census tracts would increase the sample size and might help detect more significant results. Future analyses can also look at other factors, such as amount of green space, insurance coverage, or number of medical facilities, to better predict whether the life expectancy will be above state average."
  }
]